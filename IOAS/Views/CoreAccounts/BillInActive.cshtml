@model IOAS.Models.BillStatusModel

@{
    ViewBag.Title = "Bills InActive Form";
    ViewBag.Subtitle = "Reports";
    Layout = "~/Views/Shared/_LayoutFluid.cshtml";
}

<div class="row hd-tt-bg">
    <div class="col-md-12">
        <h4><b>Bills InActive Form</b> </h4>
    </div>
</div>


<style>
    .vw-dts-bg .hgt-bg {
        background: #597df0;
        color: #fff;
    }

        .vw-dts-bg .hgt-bg label {
            font-size: 16px !important;
            color: #fff !important;
        }

        .vw-dts-bg .hgt-bg h4 {
            font-size: 18px !important;
            color: #fff;
        }

    .vw-dts-bg .hgt-bg-pl {
        background: #e11eda;
        color: #fff;
    }

        .vw-dts-bg .hgt-bg-pl label {
            font-size: 16px !important;
            color: #fff !important;
        }

        .vw-dts-bg .hgt-bg-pl h4 {
            font-size: 18px !important;
            color: #fff;
        }
</style>
@using (Html.BeginForm("BillInActive", "CoreAccounts", FormMethod.Post, new { @class = "", role = "form", @id = "forminactive", enctype = "multipart/form-data" }))
{

<div class="row">
    <div class="white-bg ad-navbar">
        <div class="col-md-3 ds-spl-bg">
            <div class="ds-icn">
                <i class="ion-ios-list-outline "></i>
            </div>
            <div class="ds-tt">
                <span>Function Name</span>
                @Html.DropDownListFor(m => m.Message, new SelectList(ViewBag.Funlist, "CodeValDetail", "CodeName"), "Select any",
  new { @class = "form-control", @id = "funname" })
            </div>
        </div>

        <div class="col-md-3 ds-spl-bg">
            <div class="ds-icn">
                <i class="ion-ios-calendar-outline"></i>
            </div>
            <div class="ds-tt">
                <span class="required">Reference No</span>
                @Html.TextBoxFor(m => m.BillNo, new { @class = "form-control", @id = "Billno" })
                @Html.TextBoxFor(m => m.RefNumber, new { @class = "form-control dis-none", @id = "Billid" })
            </div>
        </div>
        <div class="col-md-3 ds-spl-bg">
            <div class="ds-tt">
                <input type="button" value="Submit" class="btn btn-primary mt-20" id="btnSubmit" />
            </div>
        </div>

    </div>
</div>
}
<script>
    var errMsg = '@TempData["errMsg"]';
    $(document).ready(function () {
        if (errMsg == 'Failed') {
            $('#FailedAlert').html("Something went wrong please contact administrator");
            $('#Failed').modal('toggle');
        } if (errMsg == 'Success') {
            $('#alertSuccess').html("It has been Deleted successfully.");
            $('#Success').modal('toggle');
        }
    });
    $(document).on('click', '#Billno', function () {
        var Type = $("#funname").val();
        applyAutoComplete($('#Billno'), $('#Billid'), '@Url.Action("LoadAutoCompleteRefNumberList", "CoreAccounts")', undefined, true, Type);
    });
    $('#funname').change(function () {
        $("#Billno,#Billid").val('');
    });
    $('#btnSubmit').click(function () {
        var RefNumber = $("#Billid").val();
        var FuName = $("#funname").val();
        if (RefNumber != "" && FuName != "") {
            var choice = confirm("Are you sure, Do you want to delete this bill?");
            if (choice === true) {
                $('#forminactive').submit();
            }
    }
        });
</script>


