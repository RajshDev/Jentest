@model IOAS.Models.STEVerificationModel

@using IOAS.GenericServices
@{
    ViewBag.Title = "OrderVerificationView";
    Layout = "~/Views/Shared/_LayoutFluid.cshtml";
    <link href="@Url.Content("~/Content/IOASContent/assets/bootstrap-select/css/bootstrap-select.min.css")" rel="stylesheet" />
}
<div class="row hd-tt-bg">
    <div class="col-md-12">
        <h4><b>OrderVerificationView</b></h4>

    </div>
</div>


<div class="row cts-mn-dts" id="tab-01">
    <div class="page-wrapper mt30">
        <div>
            <div class="col-md-12">
                <div class="row">
                    <div class="col-md-12">
                        <div class="bl-lg-panel-box pb-null">
                            <div class="cmn-panel-box">
                                <div class="row ">
                                    <div class="col-md-3">
                                        <div class="form-group custom-form-group">
                                            <label>Employee No: </label>
                                            @Html.HiddenFor(m => m.ProjectId)
                                            @Html.HiddenFor(m => m.Status)
                                            @Html.HiddenFor(m => m.STEId)
                                            @Html.HiddenFor(m => m.OrderId)
                                            <h4>@Html.DisplayFor(m => m.ApplicationNo)</h4>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group custom-form-group">
                                            <label>Candidate Name: </label>
                                            <h4>@Html.DisplayFor(m => m.Name)</h4>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group custom-form-group">
                                            <label>Appointment Type</label>  <br>
                                            <h4>@Html.DisplayFor(m => m.Typeofappointment)</h4>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group custom-form-group">
                                            <label>Coordinator Code:</label> <br>
                                            <h4 id="PICode"></h4>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="form-group custom-form-group">
                                            <label>PI Name:</label> <br>
                                            <h4 id="PINametxt"></h4>
                                        </div>
                                    </div>

                                    <div class="col-md-3">
                                        <div class="form-group custom-form-group">
                                            <label>Department: </label> <br>
                                            <h4 id="DepartmentNametxt"></h4>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group custom-form-group">
                                            <label>Designation: </label>
                                            <h4>@Html.DisplayFor(m => m.Designation)</h4>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group custom-form-group">
                                            <label>Qualification: </label>
                                            <h4>@Html.DisplayFor(m => m.Qualification)</h4>
                                        </div>
                                    </div>


                                </div>
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="form-group custom-form-group">
                                            <label>Experience: </label>
                                            <h4>@Html.DisplayFor(m => m.Expericence)</h4>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group custom-form-group">
                                            <label>IITM Experience: </label>
                                            <h4>@Html.DisplayFor(m => m.IITMExpericence)</h4>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group custom-form-group">
                                            <label>Pay Type: </label>
                                            <h4>@Html.DisplayFor(m => m.PayType)</h4>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group custom-form-group">
                                            <label>Pay: </label>
                                            <h4>@Html.DisplayFor(m => m.Salary)</h4>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group custom-form-group">
                                            <label>HRA:</label> <br>
                                            <h4>@Html.DisplayFor(m => m.HRA)</h4>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group custom-form-group">
                                            <label class="">Employee Workplace</label>
                                            <div>@Html.DisplayFor(m => m.EmployeeWorkplace)</div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group custom-form-group">
                                            <label>Requested By</label>
                                            <h4>@Html.DisplayFor(m => m.RequestedfromPI)</h4>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group custom-form-group">
                                            <label>Salary Level Range <i class="ion-information-circled" data-toggle="tooltip" data-original-title="@Model.SalaryLevelDescription"></i></label>
                                            <h4>@Html.DisplayFor(m => m.SalaryLevel)</h4>
                                        </div>
                                    </div>
                                </div>
                                <div class="row ">
                                    <div class="col-md-3">
                                        <div class="form-group custom-form-group">
                                            <label class="">Commitment number</label>
                                            <h4>@Html.DisplayFor(m => m.CommitmentNo)</h4>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group custom-form-group">
                                            @if (Model.isWithdraw == true)
                                            {
                                                <label class="">Withdraw amount</label>
                                                <h4>@Html.DisplayFor(m => m.CommitmentAmount)</h4>
                                            }
                                            else
                                            {
                                                <label class="">Commitment amount</label>
                                                <h4>@Html.DisplayFor(m => m.CommitmentAmount)</h4>
                                            }
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group custom-form-group">
                                            <label>Medical:</label> <br>
                                            <h4>@Html.DisplayFor(m => m.MedicalAmmount)</h4>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group custom-form-group">
                                            <label>Staff Category:</label>
                                            <h4>@Html.DisplayFor(m => m.StaffCategory)</h4>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="col-md-6">
                                            <div class="form-group custom-form-group">
                                                <label>M.S/Ph.D</label>
                                                <h4>
                                                    @Html.DisplayFor(m => m.MsPhd, new { @Disabled = "Disabled" })
                                                </h4>
                                            </div>
                                        </div>
                                        @if (Model.MsPhd)
                                        {
                                            <div class="col-md-6">
                                                <div class="form-group custom-form-group  ">
                                                    <label>Details</label>
                                                    <h4>@Html.DisplayFor(m => m.PhdDetail)</h4>
                                                </div>
                                            </div>
                                        }
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group custom-form-group ">
                                            <label> Project Number:</label>
                                            <h4>@Html.DisplayFor(m => m.ProjectNumber)</h4>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group custom-form-group">
                                            <label>Appointment start date:</label> <br>
                                            <h4 id="txtAppointmentStartDate">@Html.DisplayFor(m => m.Appointmentstartdate)</h4>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group custom-form-group">
                                            <label>Appointment End date:</label> <br>
                                            <h4 id="txtAppointmentEndDate">@Html.DisplayFor(m => m.AppointmentEndDate)</h4>
                                        </div>
                                    </div>

                                </div>

                                <div class="row mt-lg">
                                    <div class="col-md-3">
                                        <div class="form-group custom-form-group  ">
                                            <label>Offer Letter Date </label>
                                            <h4>@Html.DisplayFor(m => m.OfferDate)</h4>
                                        </div>

                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group custom-form-group  ">
                                            <label>Offer Letter</label>
                                            <br />
                                            @if (Model.Attachments != null)
                                            {
                                                <a href="@Url.Action("ShowDocument", "Project", new { file = Model.Attachments.DocumentName, filepath = Model.Attachments.DocumentPath })" target="_blank">@Html.DisplayFor(m => m.Attachments.DocumentActualName)</a>
                                            }
                                        </div>
                                    </div>
                                    @*<div class="col-md-3">
                                            <div class="form-group custom-form-group  ">
                                                <label>Actual Date </label>
                                                @Html.EditorFor(m => m.ActualDate, new { @class = "form-control" })
                                                @Html.ValidationMessageFor(m => m.ActualDate)
                                            </div>
                                        </div>*@

                                    <div id="divJoining">
                                        <div class="col-md-3">
                                            <div class="form-group custom-form-group  ">
                                                <label>Joining Report  </label> <br>
                                                @if (Model.STEId > 0 && !string.IsNullOrEmpty(Model.JoiningReportPath))
                                                {
                                                    @Html.ActionLink(Model.JoiningReportFileName, "ShowDocument", new { Controller = "Account", filepath = "Requirement", file = Model.JoiningReportPath }, new { @name = "DocDownload", @target = "_blank" })
                                                }

                                            </div>
                                        </div>

                                    </div>



                                </div>

                                <div id="divRemarks">
                                    <div class="row mt-lg">
                                        <div class="col-md-3">
                                            <div class="form-group custom-form-group">
                                                <label>Remarks</label>  <br>
                                                <h4> @Html.DisplayFor(m => m.VerificationRemarks, new { @class = "form-control" })</h4>
                                            </div>
                                        </div>
                                    </div>
                                </div>


                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="text-center" style="margin-bottom: 50px;">
    @Html.HiddenFor(m => m.List_f)
    @if (!string.IsNullOrEmpty(Model.List_f))
    {
        <button type="button" class="btn btn-default" onclick="window.location.href='@Url.Action(Model.List_f,"Requirement")';">Close</button>
    }
    else
    {
        <button type="button" class="btn btn-default" onclick="window.location.href='@Url.Action("Dashboard", "Home")';">Close</button>
    }
</div>
<input type="hidden" id="currentRefId" value="@Model.OrderId" />
<input type="hidden" id="processGuideLineId" value="@ViewBag.processGuideLineId" />
<div class="" id="act-now">
    @Html.Partial("_ProcessStatus")
</div>
<script>

    var Status = @Html.Raw(Json.Encode(Model.Status)) || '';
    $(document).ready(function () {
        $('[data-toggle="tooltip"]').tooltip();

    });



    FillPIDetails();
    function FillPIDetails() {
        var projectId = $("#ProjectId").val();
        if (projectId != "" || projectId != 0) {
            $.getJSON("@Url.Action("LoadProjectDetails", "Requirement")", { ProjectId: projectId },
                 function (result) {
                     if (result.projectData.ProjectNumber != null) {
                         $('#PICode').text(result.projectData.PICode);
                         $('#PINametxt').text(result.projectData.PIName);
                         $('#DepartmentNametxt').text(result.projectData.PIDepartmentName);
                     }
                 });
        }
    }



    var addyear = 0;



    function isNumberKey(evt) {
        var charCode = (evt.which) ? evt.which : evt.keyCode;
        if (charCode != 46 && charCode > 31
          && (charCode < 48 || charCode > 57))
            return false;

        return true;
    }

    function isAlphaKey(evt) {
        var charCode = (evt.which) ? evt.which : evt.keyCode;
        if ((charCode < 48 || charCode > 57))
            return false;

        return true;
    }
    $('#EmployeeWorkplace').keypress(function (e) {
        var regex = new RegExp("^[a-zA-Z ]+$");
        var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
        if (regex.test(str)) {
            return true;
        }
        else {
            e.preventDefault();
            return false;
        }
    });
    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#displayImg')
                    .attr('src', e.target.result)
                    .width(30)
                    .height(30);
            };

            reader.readAsDataURL(input.files[0]);
        }
    }

    function readSignURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#displaySignature')
                    .attr('src', e.target.result)
                    .width(30)
                    .height(30);
            };

            reader.readAsDataURL(input.files[0]);
        }
    }

    $('a[name="DocDownload"]').click(function (p) {
        p.preventDefault();
        var ref = $(this).attr('href');
        var win = window.open('', '_blank');
        win.location.href = ref;
    });


</script>
<script src="@Url.Content("~/Content/IOASContent/assets/bootstrap-select/js/bootstrap-select.min.js")"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/FoolProof/mvcfoolproof.unobtrusive.min.js")" type="text/javascript"></script>