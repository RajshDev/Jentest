@model IOAS.Models.VendorReportModel
@{
    Layout = null;
    Layout = "~/Views/Shared/_LayoutFluid.cshtml";
}


<div class="row hd-tt-bg">
    <div class="col-md-12">
        <h4><b>Vendor Payment Report</b> </h4>
    </div>
</div>
<style>
    .vw-dts-bg .hgt-bg {
        background: #597df0;
        color: #fff;
    }

        .vw-dts-bg .hgt-bg label {
            font-size: 16px !important;
            color: #fff !important;
        }

        .vw-dts-bg .hgt-bg h4 {
            font-size: 18px !important;
            color: #fff;
        }

    .vw-dts-bg .hgt-bg-pl {
        background: #e11eda;
        color: #fff;
    }

        .vw-dts-bg .hgt-bg-pl label {
            font-size: 16px !important;
            color: #fff !important;
        }

        .vw-dts-bg .hgt-bg-pl h4 {
            font-size: 18px !important;
            color: #fff;
        }
</style>
<div class="row">
    <div class="white-bg ad-navbar">
        <div class="col-md-3 ds-spl-bg ">
            <div class="ds-icn">
                <i class="ion-ios-list-outline "></i>
            </div>
            @*<div class="ds-tt " >
                <span>Name </span>
                @Html.DropDownListFor(m => m.BillType, new SelectList(ViewBag.dropdownbilltype, "id", "name"), "Select any", new { @class = "form-control required" ,@id= "payeetypeid" })
                @Html.ValidationMessageFor(m => m.BillType)
            </div>*@
            <div class="ds-tt ">
                <span class="required">Name </span>
                @Html.TextBoxFor(m => m.VendorName, new { @class = "form-control required", @id = "Vendname", @autocomplete = "off" })
                @Html.TextBoxFor(m => m.VendorID, new { @class = "form-control dis-none", @id = "vendid" })
                @Html.ValidationMessageFor(m => m.VendorID)
            </div>
        </div>

        <div class="col-md-2 ds-spl-bg ">
            <div class="ds-tt ">
                <span class="required">From Date</span>
                @Html.EditorFor(m => m.FromDate, new { @class = "form-control required", @id = "datepicker1" })
                @Html.ValidationMessageFor(m => m.FromDate)
            </div>
        </div>
        <div class="col-md-2 ds-spl-bg ">
            <div class="ds-tt ">
                <span class="required">To Date</span>
                @Html.EditorFor(m => m.ToDate, new { @class = "form-control required", @id = "datepicker2" })
                @Html.ValidationMessageFor(m => m.ToDate)
                </div>
            </div>
            <div class="col-md-2 ds-spl-bg">
                <div class="ds-tt">
                    <input type="submit" value="View Report" class="btn btn-primary mt-20" id="btnSubmit" />
                </div>
            </div>
        </div>
    </div>

<script>

  
    $(document).on('click', '#Vendname', function () {
          applyAutoComplete($('#Vendname'), $('#vendid'), "../CoreAccounts/LoadvendorList", undefined, undefined, undefined);
       
    });

    $(document).on('change', '#payeetypeid', function () {
        $('#FromDate,#ToDate,#vendid,#Vendname').val(''); 
    });
    
    $('#FromDate,#ToDate').datepicker({ dateFormat: 'dd-MM-yy', changeYear: true });
    $('#btnSubmit').click(function ()
    {
        var date1 = $('#FromDate').val(); var date2 = $('#ToDate').val(); var Payeeid = $('#vendid').val(); var payeetypeid = $('#payeetypeid').val();
        if (date1 != "" && date2 != "" && Payeeid != "" )
        {           
        var url = '@Url.Action("vendorSummary", "ReportMaster")?Payeeid=' + Payeeid + "&date1=" + date1 + "&date2=" + date2 ;
        window.location.href = url;  
        } else {
            $('#FailedAlert').html("Vendor Name,From Date,To Date field required");
            $('#Failed').modal('toggle');
        }
    });

</script>

<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/FoolProof/mvcfoolproof.unobtrusive.min.js")" type="text/javascript"></script>

